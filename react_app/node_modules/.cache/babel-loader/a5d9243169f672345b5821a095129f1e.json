{"ast":null,"code":"var _jsxFileName = \"/home/kirill/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/frontend/react_app/src/components/LogIn.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport TextField from '@mui/material/TextField';\nimport { Button } from \"@mui/material\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LogIn = function () {\n  _s();\n\n  const instance = axios.create({\n    baseURL: 'http://localhost:1337',\n    timeout: 1000\n  });\n  const {\n    handleSubmit,\n    register\n  } = useForm();\n\n  const onSubmit = data => {\n    instance.post('/token/', data).then(function (response) {\n      const {\n        token\n      } = response.data.access;\n      const {\n        refresh_token\n      } = response.data.refresh;\n      localStorage.setItem('token', token);\n      localStorage.setItem('refresh_token', refresh_token);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" SCHOOL SYSTEM \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        name: \"email\",\n        label: \"Email\",\n        type: \"Email\",\n        id: \"email\",\n        ...register(\"email\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        label: \"Password\",\n        ...register(\"password\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LogIn, \"f5MwZahoW6ccVmse2kYMfsu6aIo=\", false, function () {\n  return [useForm];\n});\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["/home/kirill/Рабочий стол/frontend/react_app/src/components/LogIn.jsx"],"names":["React","TextField","Button","useForm","axios","LogIn","instance","create","baseURL","timeout","handleSubmit","register","onSubmit","data","post","then","response","token","access","refresh_token","refresh","localStorage","setItem","catch","error","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAAQC,MAAR,QAAqB,eAArB;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,MAAMC,KAAK,GAAG,YAAY;AAAA;;AAEtB,QAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC1BC,IAAAA,OAAO,EAAE,uBADiB;AAE1BC,IAAAA,OAAO,EAAE;AAFiB,GAAb,CAAjB;AAKA,QAAM;AAACC,IAAAA,YAAD;AAAeC,IAAAA;AAAf,MAA2BR,OAAO,EAAxC;;AACA,QAAMS,QAAQ,GAAIC,IAAD,IAAU;AACvBP,IAAAA,QAAQ,CAACQ,IAAT,CAAc,SAAd,EAAyBD,IAAzB,EACKE,IADL,CACU,UAAUC,QAAV,EAAoB;AACtB,YAAM;AAAEC,QAAAA;AAAF,UAAYD,QAAQ,CAACH,IAAT,CAAcK,MAAhC;AACA,YAAM;AAAEC,QAAAA;AAAF,UAAoBH,QAAQ,CAACH,IAAT,CAAcO,OAAxC;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,KAA9B;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCH,aAAtC;AACH,KANL,EAOKI,KAPL,CAOW,UAAUC,KAAV,EAAiB;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KATL;AAUH,GAXD;;AAaA,sBACI;AAAM,IAAA,QAAQ,EAAEd,YAAY,CAACE,QAAD,CAA5B;AAAA,2BACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,SAAD;AACI,QAAA,MAAM,EAAC,QADX;AAEI,QAAA,QAAQ,MAFZ;AAGI,QAAA,SAAS,MAHb;AAII,QAAA,IAAI,EAAC,OAJT;AAKI,QAAA,KAAK,EAAC,OALV;AAMI,QAAA,IAAI,EAAC,OANT;AAOI,QAAA,EAAE,EAAC,OAPP;AAAA,WAQQD,QAAQ,CAAC,OAAD;AARhB;AAAA;AAAA;AAAA;AAAA,cAFJ,eAaI,QAAC,SAAD;AACI,QAAA,MAAM,EAAC,QADX;AAEI,QAAA,QAAQ,MAFZ;AAGI,QAAA,SAAS,MAHb;AAII,QAAA,KAAK,EAAC,UAJV;AAAA,WAKQA,QAAQ,CAAC,UAAD;AALhB;AAAA;AAAA;AAAA;AAAA,cAbJ,eAqBI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA4BH,CAjDD;;GAAMN,K;UAO+BF,O;;;KAP/BE,K;AAmDN,eAAeA,KAAf","sourcesContent":["import React from \"react\";\nimport TextField from '@mui/material/TextField';\nimport {Button} from \"@mui/material\";\nimport {useForm} from \"react-hook-form\";\nimport axios from \"axios\";\n\n\nconst LogIn = function () {\n\n    const instance = axios.create({\n        baseURL: 'http://localhost:1337',\n        timeout: 1000,\n    });\n\n    const {handleSubmit, register} = useForm();\n    const onSubmit = (data) => {\n        instance.post('/token/', data)\n            .then(function (response) {\n                const { token } = response.data.access;\n                const { refresh_token } = response.data.refresh;\n                localStorage.setItem('token', token);\n                localStorage.setItem('refresh_token', refresh_token);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    };\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <div>\n                <h3> SCHOOL SYSTEM </h3>\n                <TextField\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    name=\"email\"\n                    label=\"Email\"\n                    type=\"Email\"\n                    id=\"email\"\n                    {...register(\"email\")}\n                />\n\n                <TextField\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    label=\"Password\"\n                    {...register(\"password\")}\n                />\n\n                <Button type=\"submit\">Submit</Button>\n            </div>\n        </form>\n    )\n\n}\n\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}